<script>
    jQuery(document).ready(function () {

        var $dialog = $('<div></div>')
                .html("Se han econtrado errores")
                .dialog({
                    autoOpen:false,
                    title:'Se han encontrado errores',
                    resizable:false,
                    height:240,
                    width:540,
                    modal:true,
                    buttons:{
                        "Aceptar":function () {
                            $(this).dialog("close");
                        }
                    }
                });

        var errorsDescription = "";
        var errors = jQuery(".field_inline_error");
        for (i = 0; i < errors.length; i++) {
            var error = errors[i];

            var errorHtml = jQuery(error).html();
            if (errorHtml.trim() != "") {
                var errorField = jQuery(error).attr('name');
                errorsDescription += errorField + ": " + errorHtml + "<br/>";
            }

        }

        if (errorsDescription != "") {
            event.preventDefault(); // now js will take full control of the product delection
            delform = $(this).parents("form");

            $dialog.bind("dialogbeforeclose", function (e, ui) {
                //alert( $(e.target)[0].tittle );
            });

            $dialog.html(errorsDescription);
            $dialog.dialog("open");
        }
    })
</script>

<!--start formulario de alta-->
<div class="formulario_alta_new_cliente">
    <div class="field_inline_error" name="Email"> {{ form_errors(form) }}</div>
    <div class="form_new_cliente_container">
        <p><span class=" text_general"><span class="red">*</span> Campos obligatorios</span></p>
        <br/>

        <p><strong class="blue">Introduzca los datos de acceso:</strong></p>

        <div class="linea_horizontal"></div>

        <div class="input_container_new_cliente">
            <div class="input_left"><p><span class="red">*</span> e-mail:</p>

                <div class="field_inline_error" name="Email">{{ form_errors(form.email) }} </div>
                {{ form_widget(form.email, {'attr' : { 'class' : 'input_new_cliente' } }) }}
            </div>
            <div class="input_right">
                <p><span class="red">*</span> Confirmar e-mail:</p>
                <input name="emailConfirmation" type="Empresa" class="input_new_cliente"/>
            </div>
        </div>

        <div class="input_container_new_cliente">
            <div class="input_left"><p><span class="red">*</span> Contrase침a:</p>

                <div class="field_inline_error" name="Contrase침a"> {{ form_errors(form.password) }}</div>
                {{ form_widget(form.password, {'attr' : { 'class' : 'input_new_cliente' } }) }}
            </div>
            <div class="input_right"><p><span class="red">*</span> Confirmar contrase침a:</p>
                <input name="passwordConfirmation" type="password" class="input_new_cliente"/>
            </div>
        </div>

        <br/>

        <div class="input_container_new_cliente">
            <div class="input_left"><p><span class="red">*</span> Permisos:</p>

                <div class="field_inline_error" name="Poblaci칩n"> {{ form_errors(form.permissionType) }}</div>
                {{ form_widget(form.permissionType, {'attr' : { 'class' : 'input_new_cliente' } }) }}
            </div>
        </div>


        {% for key, messages in app.session.flashbag.all %}
            {% for message in messages %}
                <div class="field_inline_error" name="{{ key }}">{{ message }}</div>
            {% endfor %}
        {% endfor %}
        {{ form_rest(form) }}

        <div class="aceptar_enviar_container">

            <div class="btn_solicitar_alta">
                <button class="btn_solicitar_alta" type="submit">Enviar</button>
            </div>

        </div>

    </div>
</div>
<!--end formulario-->